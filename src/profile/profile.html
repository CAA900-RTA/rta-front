<div class="mx-5">
  <mat-tab-group mat-stretch-tabs dynamicHeight #tabGroup>
    <!-- Tab 1: Profile Builder -->
    <mat-tab label="Build Profile">
      <div class="p-4">
        <form [formGroup]="profileForm" (ngSubmit)="goToNextTab(tabGroup)">
          <!-- Custom Tags -->
          <div class="mb-4">
            <label class="form-label fw-bold">Add Skills</label>
            <mat-form-field class="w-100">
              <input
                matInput
                formControlName="customTagsInput"
                placeholder="Type and press Enter"
                (keydown.enter)="addCustomTag(); $event.preventDefault();"
              />
            </mat-form-field>

            <div formArrayName="customTags" class="tags mt-2">
              <span class="tag" *ngFor="let tagCtrl of customTags.controls; let i = index">
                {{ tagCtrl.value }}
                <button
                  type="button"
                  class="btn-close ms-2"
                  aria-label="Remove"
                  (click)="removeCustomTag(i)"
                ></button>
              </span>
            </div>
          </div>

          <!-- Work Experience -->
          <div class="mb-4">
            <label class="form-label fw-bold">Work Experience</label>
            <div formArrayName="experiences">
              <div
                *ngFor="let exp of experiences.controls; let i = index"
                [formGroupName]="i"
                class="border p-3 mb-2 rounded bg-light"
              >
                <div class="row g-3">
                  <div class="col-md-4">
                    <input
                      type="text"
                      formControlName="jobTitle"
                      class="form-control"
                      placeholder="Job Title"
                    />
                  </div>
                  <div class="col-md-4">
                    <input
                      type="text"
                      formControlName="company"
                      class="form-control"
                      placeholder="Company Name"
                    />
                  </div>
                  <div class="col-md-3">
                    <input
                      type="number"
                      formControlName="years"
                      class="form-control"
                      placeholder="Years"
                    />
                  </div>
                  <div class="col-md-1 text-end">
                    <button
                      class="btn btn-danger btn-sm"
                      (click)="removeExperience(i)"
                      type="button"
                      *ngIf="experiences.length > 1"
                    >
                      ×
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <button
              class="btn btn-outline-primary btn-sm mt-2"
              type="button"
              (click)="addExperience()"
            >
              + Add Experience
            </button>
          </div>

          <!-- Education -->
          <div class="mb-4">
            <label class="form-label fw-bold">Education Qualifications</label>
            <div formArrayName="education">
              <div
                *ngFor="let edu of education.controls; let i = index"
                [formGroupName]="i"
                class="border p-3 mb-2 rounded bg-light"
              >
                <div class="row g-3">
                  <div class="col-md-4">
                    <input
                      type="text"
                      formControlName="degree"
                      class="form-control"
                      placeholder="Degree"
                    />
                  </div>
                  <div class="col-md-4">
                    <input
                      type="text"
                      formControlName="institution"
                      class="form-control"
                      placeholder="Institution Name"
                    />
                  </div>
                  <div class="col-md-3">
                    <input
                      type="number"
                      formControlName="year"
                      class="form-control"
                      placeholder="Year"
                    />
                  </div>
                  <div class="col-md-1 text-end">
                    <button
                      class="btn btn-danger btn-sm"
                      (click)="removeEducation(i)"
                      type="button"
                      *ngIf="education.length > 1"
                    >
                      ×
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <button
              class="btn btn-outline-primary btn-sm mt-2"
              type="button"
              (click)="addEducation()"
            >
              + Add Education
            </button>
          </div>

          <!-- Description -->
          <div class="mb-4">
            <label class="form-label fw-bold">Description</label>
            <textarea
              class="form-control"
              formControlName="description"
              rows="4"
              placeholder="Tell us about yourself..."
            ></textarea>
          </div>

          <!-- Next -->
          <div class="text-end">
            <button class="btn btn-primary rta-bg" type="submit">Next</button>
          </div>
        </form>
      </div>
    </mat-tab>

    <!-- Tab 2: Resume -->
<mat-tab label="Build Resume" [disabled]="!profileForm.valid">
  <div class="p-4">
    <app-dashboard></app-dashboard>
  </div>
</mat-tab>
  </mat-tab-group>
</div>
